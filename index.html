<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta content='width=device-width, initial-scale=1, maximum-scale=1' name='viewport' />
  <meta name="apple-mobile-web-app-capable" content="yes">

  <title>Oblique Strategies Website</title>
  <link rel="icon" href="ext/icons/icon128.png" />
  <link rel="apple-touch-icon" href="assets/img/apple-icon-180x180.png"/>
  <link rel="apple-touch-icon" sizes="76x76" href="assets/img/apple-icon-76x76.png"/>
  <link rel="apple-touch-icon" sizes="120x120" href="assets/img/apple-icon-120x120.png"/>
  <link rel="apple-touch-icon" sizes="152x152" href="assets/img/apple-icon-152x152.png"/>
  <link rel="apple-touch-icon" sizes="167x167" href="assets/img/apple-icon-167x167.png"/>
  <style>body,html{height:auto;height:100%;overflow:hidden;font-size:16px}body{font-family:Helvetica,arial,sans;background-color:hsla(0,0%,100%,.9);color:rgba(38,50,56,.9);background-size:cover;margin:0;line-height:1.5}body.ready{-webkit-transition:background-image,background-color .4s ease-in-out;transition:background-image,background-color .4s ease-in-out}body.dark{background-color:hsla(0,0%,100%,.9);color:hsla(0,0%,100%,.9)}.container{height:100%;z-index:1;position:relative}.container,.container h1{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex}.container h1{margin:auto;font-size:2rem;line-height:1.4;text-align:center;font-weight:400;white-space:pre-wrap;width:26em;height:15em;border-radius:1em;padding:0 2em;box-sizing:border-box;background:hsla(0,0%,100%,.9)}.container h1 span{margin:auto}@media (max-width:48em){.container h1{font-size:1.625em;width:18em;height:12em}}@media (max-width:32em){.container h1{font-size:1.25em;width:80%;height:12em}}body.dark .container h1{background:rgba(38,50,56,.9)}body.ready .container h1{-webkit-transition:color .4s ease-in-out;transition:color .4s ease-in-out}div.bg{position:fixed;top:0;right:0;bottom:0;left:0;-webkit-transition:opacity 1s ease-in;transition:opacity 1s ease-in;background-size:cover}.bg.fade-in{opacity:0}.colors{position:absolute;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;width:50%;left:25%;bottom:4em;height:120px;z-index:1}.colors,.colors>div{box-sizing:border-box}.colors>div{width:100px;height:100px;margin:10px}.svg-icon{width:2em;height:2em}.svg-icon circle,.svg-icon path,.svg-icon polygon,.svg-icon rect{transition:all .2s ease-in}.chrome .svg-icon{width:3em;height:3em}.svg-icon circle{stroke-width:1}.svg-icon path,.svg-icon polygon,.svg-icon rect{fill:#bababa}.svg-icon circle{stroke:#bababa}@media (max-width:17em){.container h1{max-width:100%}}.controls{position:absolute;bottom:1rem;right:1rem;z-index:1}.controls a{display:inline-block;margin-left:1.5rem;transition:color .3s ease-in;text-decoration:none;color:#bababa}.controls a.extension span{position:relative;top:-.5rem}.controls a:hover{color:#111}.controls a:hover .svg-icon path,.controls a:hover .svg-icon polygon,.controls a:hover .svg-icon rect{fill:#111}.controls a:hover .svg-icon circle{stroke:#111}body.dark .controls a{color:#888}body.dark .svg-icon path,body.dark .svg-icon polygon,body.dark .svg-icon rect{fill:#888}body.dark .svg-icon circle{stroke:#888}body.dark .controls a:hover{color:#eaeaea}body.dark .controls a:hover .svg-icon path,body.dark .controls a:hover .svg-icon polygon,body.dark .controls a:hover .svg-icon rect{fill:#eaeaea}body.dark .controls a:hover .svg-icon circle{stroke:#eaeaea}.about-modal{position:fixed;z-index:1;display:flex;top:0;left:0;bottom:0;right:0;background:hsla(0,0%,100%,.9);transform:translateY(100%);transition:all .3s ease-in-out}.about-modal .inner{margin:auto;padding:2em;background:#fff;border:1px solid #b0bec5;color:#455a64;width:400px;opacity:0;transition:all .4s ease-out;border-radius:4px}.about-modal .inner p{margin-bottom:0}.about-modal .inner h2{margin-top:0}.about-modal .inner a{color:#111;text-decoration:none;border-bottom:2px solid #b3e5fc;box-shadow:inset 0 -4px 0 #b3e5fc;transition:background .1s ease-out}.about-modal .inner a:hover{background:#b3e5fc}.about-modal .inner h2 small{font-weight:400;font-size:.4em;font-family:Menlo,Monaco,Consolas,Courier New,monospace;padding:2px 4px;color:#ab47bc;background-color:#f3e5f5}.about-modal .inner hr{border-style:solid;margin:1.5em 0;color:#b0bec5}.about-modal input[type=checkbox]{position:relative;top:-2px}body.dark .about-modal{background:rgba(0,0,0,.75)}body.show-about .about-modal{transform:translateY(0)}body.show-about .about-modal .inner{opacity:1}body.show-about .container{filter:blur(1px)}
/*# sourceMappingURL=main.css.map */
</style>
</head>
<body>

  <div class="container">
    <h1><span id="strategy"></span></h1>
  </div>

  <div class="about-modal">
    <div class="inner">
      <h2><a href="http://obliquestrategies.website">Oblique Strategies Website</a> <small id="ext-version"></small></h2>
      <p>Based on <a href="https://en.wikipedia.org/wiki/Oblique_Strategies">Oblique Strategies</a> by Brian Eno and Peter Schmidt.</p>
      <p>Credit to <a href="https://twitter.com/ceejbot">@ceejbot</a> for first adapting the cards into a <a href="https://github.com/ceejbot/oblique-strategies">node module</a>. This project is <a href="https://github.com/wookiehangover/oblique-tab">open source</a>.</p>
      <hr/>
      <p><label><input type="checkbox" name="unsplash" /> Use images from <a href="https://unsplash.com/">unsplash</a></label></p>
    </div>
  </div>

  <div class="controls">
    <a href="#" class="about">
      <svg class="svg-icon" viewBox="0 0 20 20">
        <path fill="none" d="M3.936,7.979c-1.116,0-2.021,0.905-2.021,2.021s0.905,2.021,2.021,2.021S5.957,11.116,5.957,10
          S5.052,7.979,3.936,7.979z M3.936,11.011c-0.558,0-1.011-0.452-1.011-1.011s0.453-1.011,1.011-1.011S4.946,9.441,4.946,10
          S4.494,11.011,3.936,11.011z M16.064,7.979c-1.116,0-2.021,0.905-2.021,2.021s0.905,2.021,2.021,2.021s2.021-0.905,2.021-2.021
          S17.181,7.979,16.064,7.979z M16.064,11.011c-0.559,0-1.011-0.452-1.011-1.011s0.452-1.011,1.011-1.011S17.075,9.441,17.075,10
          S16.623,11.011,16.064,11.011z M10,7.979c-1.116,0-2.021,0.905-2.021,2.021S8.884,12.021,10,12.021s2.021-0.905,2.021-2.021
          S11.116,7.979,10,7.979z M10,11.011c-0.558,0-1.011-0.452-1.011-1.011S9.442,8.989,10,8.989S11.011,9.441,11.011,10
          S10.558,11.011,10,11.011z"></path>
      </svg>
    </a>
    <a href="#" class="theme">
      <svg class="svg-icon" viewBox="0 0 20 20">
        <path fill="none" d="M3.183,9.381H0.704v1.239h2.479V9.381z M2.989,16.135l0.876,0.877l1.752-1.754l-0.876-0.875L2.989,16.135z
         M17.012,3.866l-0.877-0.876l-1.752,1.752l0.875,0.876L17.012,3.866z M10.62,0.705H9.38v2.479h1.239V0.705z M5.618,4.742
        L3.865,2.989L2.989,3.866l1.753,1.752L5.618,4.742z M14.383,15.258l1.752,1.754l0.877-0.877l-1.754-1.752L14.383,15.258z
        M9.38,19.297h1.239v-2.48H9.38V19.297z M16.816,9.381v1.239h2.479V9.381H16.816z M10,5.042c-2.738,0-4.958,2.22-4.958,4.958
        c0,2.738,2.22,4.959,4.958,4.959c2.738,0,4.958-2.221,4.958-4.959C14.958,7.263,12.738,5.042,10,5.042z M10,13.727
        c-2.058,0-3.726-1.668-3.726-3.727c0-2.058,1.668-3.726,3.726-3.726c2.059,0,3.727,1.668,3.727,3.726
        C13.727,12.059,12.059,13.727,10,13.727z"></path>
      </svg>
    </a>
    <a target="_blank" class="extension" href="https://chrome.google.com/webstore/detail/oblique-strategies-tab/mgmdhihgmkhangpfokjdhfhjaiadpopd">
      <svg class="svg-icon" viewBox="0 0 20 20">
        <path fill="none" d="M18.208,2.958H8.875V1.792c0-0.644-0.522-1.167-1.167-1.167H1.875c-0.644,0-1.167,0.522-1.167,1.167v16.333
                             c0,0.645,0.522,1.166,1.167,1.166h16.333c0.645,0,1.167-0.521,1.167-1.166v-14C19.375,3.48,18.853,2.958,18.208,2.958z
                             M18.208,17.542c0,0.322-0.261,0.583-0.583,0.583H2.458c-0.323,0-0.583-0.261-0.583-0.583V6.458h16.333V17.542z M17.625,5.292
                             H1.875V2.375c0-0.323,0.261-0.583,0.583-0.583h4.667c0.323,0,0.583,0.261,0.583,0.583v1.75h9.917c0.322,0,0.583,0.261,0.583,0.583
                             C18.208,5.031,17.947,5.292,17.625,5.292z"></path>
      </svg>
      <span>Get the Chrome Extension</span>
    </a>
  </div>

  <div class="bg fade-in"></div>

  <script>(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
var ob=require("oblique-strategies"),setBackground=require("./unsplash-background"),qs=document.querySelector.bind(document);exports.renderCard=function(){var e=ob.draw(),t=document.getElementById("strategy");t.innerHTML=String(e)},exports.handleThemeClick=function(e){var t=qs(".controls .theme");t.addEventListener("click",function(t){t.preventDefault();var n=document.body;n.classList.toggle("dark");var r=n.classList.contains("dark")?"dark":"light";e&&e(r)})},exports.handleAboutClick=function(){var e=document.body,t=qs(".controls .about");t.addEventListener("click",function(t){t.preventDefault(),e.classList.toggle("show-about")}),document.body.addEventListener("keyup",function(t){27===t.keyCode&&e.classList.remove("show-about")});var n=qs(".about-modal");n.addEventListener("click",function(t){t.preventDefault(),e.classList.remove("show-about")},!1);var r=qs(".about-modal .inner");r.addEventListener("click",function(e){e.stopPropagation()},!1)},exports.setUnsplash=function(e,t){var n=qs('input[name="unsplash"]');e===!0&&(setBackground(),n.setAttribute("checked",!0)),n.addEventListener("change",function(e){var n;e.currentTarget.checked?setBackground():(n=document.querySelector(".bg"))&&(n.style.background=null),t&&t(e.currentTarget.checked)},!0)},exports.updateVersion=function(e){var t=document.getElementById("ext-version");t.innerText="v"+e};
},{"./unsplash-background":3,"oblique-strategies":7}],2:[function(require,module,exports){
function sendDimensions(){navigator.serviceWorker.controller.postMessage({width:window.outerWidth,height:window.outerHeight})}var version=require("../../ext/manifest.json").version,helpers=require("./helpers");navigator.serviceWorker&&(navigator.serviceWorker.controller?sendDimensions():navigator.serviceWorker.register("service-worker.js")),helpers.renderCard(),document.addEventListener("DOMContentLoaded",function(){var e=localStorage.getItem("theme");"dark"===e&&document.body.classList.toggle("dark"),document.body.classList.add("ready"),helpers.updateVersion(version),helpers.handleAboutClick(),helpers.handleThemeClick(function(e){window.localStorage.setItem("theme",e)});var r=JSON.parse(localStorage.getItem("unsplash"));helpers.setUnsplash(r,function(e){window.localStorage.setItem("unsplash",e)})});
},{"../../ext/manifest.json":4,"./helpers":1}],3:[function(require,module,exports){
function appendImage(e){var a=new Image;a.src=e,imagesLoaded(a).on("done",function(){var a=document.querySelector(".bg");a.style.setProperty("background-image","url("+e+")"),a.classList.remove("fade-in")})}var imagesLoaded=require("imagesloaded");module.exports=function(){appendImage("https://unsplash.it/"+window.outerWidth+"/"+window.outerHeight+"/?random")};
},{"imagesloaded":6}],4:[function(require,module,exports){
module.exports={"name":"Oblique Strategies Tab","version":"2.4.2","manifest_version":2,"description":"A tab replacement based on Oblique Strategies by Brian Eno and Peter Schmidt","homepage_url":"http://obliquestrategies.website","icons":{"16":"icons/icon16.png","48":"icons/icon48.png","128":"icons/icon128.png"},"chrome_url_overrides":{"newtab":"index.html"},"permissions":["storage"]}
},{}],5:[function(require,module,exports){
!function(e){"use strict";function n(n){var t=e.event;return t.target=t.target||t.srcElement||n,t}var t=document.documentElement,o=function(){};t.addEventListener?o=function(e,n,t){e.addEventListener(n,t,!1)}:t.attachEvent&&(o=function(e,t,o){e[t+o]=o.handleEvent?function(){var t=n(e);o.handleEvent.call(o,t)}:function(){var t=n(e);o.call(e,t)},e.attachEvent("on"+t,e[t+o])});var c=function(){};t.removeEventListener?c=function(e,n,t){e.removeEventListener(n,t,!1)}:t.detachEvent&&(c=function(e,n,t){e.detachEvent("on"+n,e[n+t]);try{delete e[n+t]}catch(o){e[n+t]=void 0}});var i={bind:o,unbind:c};"function"==typeof define&&define.amd?define(i):"object"==typeof exports?module.exports=i:e.eventie=i}(window);
},{}],6:[function(require,module,exports){
!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(i,n){return t(e,i,n)}):"object"==typeof exports?module.exports=t(e,require("wolfy87-eventemitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(window,function(e,t,i){"use strict";function n(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===d.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;n>i;i++)t.push(e[i]);else t.push(e);return t}function s(e,t,i){if(!(this instanceof s))return new s(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var o=this;setTimeout(function(){o.check()})}function h(e){this.img=e}function f(e){this.src=e,p[e]=this}var c=e.jQuery,a=e.console,u="undefined"!=typeof a,d=Object.prototype.toString;s.prototype=new t,s.prototype.options={},s.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;t>e;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var o=i.querySelectorAll("img"),r=0,s=o.length;s>r;r++){var h=o[r];this.addImage(h)}}},s.prototype.addImage=function(e){var t=new h(e);this.images.push(t)},s.prototype.check=function(){function e(e,o){return t.options.debug&&u&&a.log("confirm",e,o),t.progress(e),i++,i===n&&t.complete(),!0}var t=this,i=0,n=this.images.length;if(this.hasAnyBroken=!1,!n)return void this.complete();for(var o=0;n>o;o++){var r=this.images[o];r.on("confirm",e),r.check()}},s.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},s.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){if(t.emit(e,t),t.emit("always",t),t.jqDeferred){var i=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[i](t)}})},c&&(c.fn.imagesLoaded=function(e,t){var i=new s(this,e,t);return i.jqDeferred.promise(c(this))}),h.prototype=new t,h.prototype.check=function(){var e=p[this.img.src]||new f(this.img.src);if(e.isConfirmed)return void this.confirm(e.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var t=this;e.on("confirm",function(e,i){return t.confirm(e.isLoaded,i),!0}),e.check()},h.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return f.prototype=new t,f.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},f.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},f.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},f.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},f.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},s});
},{"eventie":5,"wolfy87-eventemitter":8}],7:[function(require,module,exports){
var strategies=["(Organic) machinery","A line has two sides","A very small object         Its center","Abandon desire","Abandon normal instructions","Abandon normal instruments","Accept advice","Accretion","Adding on","Allow an easement (an easement is the abandonment of a stricture)","Always first steps","Always give yourself credit for having more than personality (given by Arto Lindsay)","Are there sections?  Consider transitions","Ask people to work against their better judgement","Ask your body","Assemble some of the elements in a group and treat the group","Balance the consistency principle with the inconsistency principle","Be dirty","Be extravagant","Be less critical","Breathe more deeply","Bridges\n--build\n--burn","Cascades","Change ambiguities to specifics","Change instrument roles","Change nothing and continue with immaculate consistency","Change specifics to ambiguities","Children\n--speaking\n--singing","Cluster analysis","Consider different fading systems","Consider transitions","Consult other sources\n--promising\n--unpromising","Convert a melodic element into a rhythmic element","Courage!","Cut a vital connection","Decorate, decorate","Define an area as `safe' and use it as an anchor","Destroy\n-nothing\n-the most important thing","Discard an axiom","Disciplined self-indulgence","Disconnect from desire","Discover the recipes you are using and abandon them","Display your talent","Distort time","Do nothing for as long as possible","Do something boring","Do the last thing first","Do the washing up","Do the words need changing?","Do we need holes?","Don't avoid what is easy","Don't be frightened of cliches","Don't break the silence","Don't stress one thing more than another","Dont be afraid of things because they're easy to do","Dont be frightened to display your talents","Emphasize differences","Emphasize repetitions","Emphasize the flaws","Faced with a choice, do both (given by Dieter Rot)","Feed the recording back out of the medium","Fill every beat with something","Find a safe part and use it as an anchor","Get your neck massaged","Ghost echoes","Give the game away","Give way to your worst impulse","Go outside. Shut the door.","Go slowly all the way round the outside","Go to an extreme, come part way back","Honor thy mistake as a hidden intention","How would someone else do it?","How would you have done it?","Humanize something free of error","Idiot glee (?)","Imagine the piece as a set of disconnected events","In total darkness, or in a very large room, very quietly","Infinitesimal gradations","Intentions\n--nobility of\n--humility of\n--credibility of","Into the impossible","Is it finished?","Is something missing?","Is the information correct?","Is the style right?","Is there something missing","It is quite possible (after all)","It is simply a matter of work","Just carry on","Left channel, right channel, center channel","Listen to the quiet voice","Look at the order in which you do things","Look closely at the most embarrassing details & amplify them","Lost in useless territory","Lowest common denominator","Magnify the most difficult details","Make a blank valuable by putting it in an exquisite frame","Make a sudden, destructive unpredictable action; incorporate","Make an exhaustive list of everything you might do & do the last thing on the list","Make it more sensual","Make what's perfect more human","Mechanicalize something idiosyncratic","Move towards the unimportant","Mute and continue","Not building a wall but making a brick","Once the search has begun, something will be found","Only a part, not the whole","Only one element of each kind","Overtly resist change","Pae White's non-blank graphic metacard","Put in earplugs","Question the heroic","Reevaluation (a warm feeling)","Remember those quiet evenings","Remove a restriction","Remove ambiguities and convert to specifics","Remove specifics and convert to ambiguities","Repetition is a form of change","Retrace your steps","Reverse","Short circuit (example; a man eating peas with the idea that they will improve  his virility shovels them straight into his lap)","Simple subtraction","Simply a matter of work","Slow preparation, fast execution","Spectrum analysis","State the problem as clearly as possible","Take a break","Take away the elements in order of apparent non-importance","Take away the important parts","Tape your mouth (given by Ritva Saarikko)","The inconsistency principle","The most important thing is the thing most easily forgotten","The tape is now the music","Think\n--inside the work\n--outside the work","Think of the radio","Tidy up","Towards the insignificant","Trust in the you of now","Try faking it (from Stewart Brand)","Turn it upside down","Twist the spine","Use 'unqualified' people","Use an old idea","Use an unacceptable color","Use cliches","Use fewer notes","Use filters","Use something nearby as a model","Use your own ideas","Voice your suspicions","Water","What are the sections sections of?    Imagine a caterpillar moving","What are you really thinking about just now?","What context would look right?","What is the reality of the situation?","What is the simplest solution?","What mistakes did you make last time?","What to increase? What to reduce? What to maintain?","What would your closest friend do?","What wouldn't you do?","When is it for?","Where is the edge?","Which parts can be grouped?","Work at a different speed","Would anyone want it?","You are an engineer","You can only make one dot at a time","You don't have to be ashamed of using your own ideas","[blank white card]"];exports.strategies=strategies,exports.draw=function(){var e=Math.floor(Math.random()*(strategies.length+1));return strategies[e]};
},{}],8:[function(require,module,exports){
(function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,s=i.EventEmitter;r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),s="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(s?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,s=this.getListenersAsObject(e);for(i in s)s.hasOwnProperty(i)&&(r=t(s[i],n),-1!==r&&s[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,s=e?this.removeListener:this.addListener,o=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)s.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?s.call(this,r,i):o.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,s,o,u=this.getListenersAsObject(e);for(s in u)if(u.hasOwnProperty(s))for(n=u[s].slice(0),i=n.length;i--;)r=n[i],r.once===!0&&this.removeListener(e,r.listener),o=r.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=s,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:i.EventEmitter=e}).call(this);
},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvaGVscGVycy5qcyIsImFzc2V0cy9qcy9wYWdlcy5qcyIsImFzc2V0cy9qcy91bnNwbGFzaC1iYWNrZ3JvdW5kLmpzIiwiZXh0L21hbmlmZXN0Lmpzb24iLCJub2RlX21vZHVsZXMvZXZlbnRpZS9ldmVudGllLmpzIiwibm9kZV9tb2R1bGVzL2ltYWdlc2xvYWRlZC9pbWFnZXNsb2FkZWQuanMiLCJub2RlX21vZHVsZXMvb2JsaXF1ZS1zdHJhdGVnaWVzL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3dvbGZ5ODctZXZlbnRlbWl0dGVyL0V2ZW50RW1pdHRlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBOztBQ0FBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsInZhciBvYj1yZXF1aXJlKFwib2JsaXF1ZS1zdHJhdGVnaWVzXCIpLHNldEJhY2tncm91bmQ9cmVxdWlyZShcIi4vdW5zcGxhc2gtYmFja2dyb3VuZFwiKSxxcz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yLmJpbmQoZG9jdW1lbnQpO2V4cG9ydHMucmVuZGVyQ2FyZD1mdW5jdGlvbigpe3ZhciBlPW9iLmRyYXcoKSx0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3RyYXRlZ3lcIik7dC5pbm5lckhUTUw9U3RyaW5nKGUpfSxleHBvcnRzLmhhbmRsZVRoZW1lQ2xpY2s9ZnVuY3Rpb24oZSl7dmFyIHQ9cXMoXCIuY29udHJvbHMgLnRoZW1lXCIpO3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpO3ZhciBuPWRvY3VtZW50LmJvZHk7bi5jbGFzc0xpc3QudG9nZ2xlKFwiZGFya1wiKTt2YXIgcj1uLmNsYXNzTGlzdC5jb250YWlucyhcImRhcmtcIik/XCJkYXJrXCI6XCJsaWdodFwiO2UmJmUocil9KX0sZXhwb3J0cy5oYW5kbGVBYm91dENsaWNrPWZ1bmN0aW9uKCl7dmFyIGU9ZG9jdW1lbnQuYm9keSx0PXFzKFwiLmNvbnRyb2xzIC5hYm91dFwiKTt0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3QucHJldmVudERlZmF1bHQoKSxlLmNsYXNzTGlzdC50b2dnbGUoXCJzaG93LWFib3V0XCIpfSksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIixmdW5jdGlvbih0KXsyNz09PXQua2V5Q29kZSYmZS5jbGFzc0xpc3QucmVtb3ZlKFwic2hvdy1hYm91dFwiKX0pO3ZhciBuPXFzKFwiLmFib3V0LW1vZGFsXCIpO24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24odCl7dC5wcmV2ZW50RGVmYXVsdCgpLGUuY2xhc3NMaXN0LnJlbW92ZShcInNob3ctYWJvdXRcIil9LCExKTt2YXIgcj1xcyhcIi5hYm91dC1tb2RhbCAuaW5uZXJcIik7ci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihlKXtlLnN0b3BQcm9wYWdhdGlvbigpfSwhMSl9LGV4cG9ydHMuc2V0VW5zcGxhc2g9ZnVuY3Rpb24oZSx0KXt2YXIgbj1xcygnaW5wdXRbbmFtZT1cInVuc3BsYXNoXCJdJyk7ZT09PSEwJiYoc2V0QmFja2dyb3VuZCgpLG4uc2V0QXR0cmlidXRlKFwiY2hlY2tlZFwiLCEwKSksbi5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsZnVuY3Rpb24oZSl7dmFyIG47ZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQ/c2V0QmFja2dyb3VuZCgpOihuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYmdcIikpJiYobi5zdHlsZS5iYWNrZ3JvdW5kPW51bGwpLHQmJnQoZS5jdXJyZW50VGFyZ2V0LmNoZWNrZWQpfSwhMCl9LGV4cG9ydHMudXBkYXRlVmVyc2lvbj1mdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImV4dC12ZXJzaW9uXCIpO3QuaW5uZXJUZXh0PVwidlwiK2V9OyIsImZ1bmN0aW9uIHNlbmREaW1lbnNpb25zKCl7bmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuY29udHJvbGxlci5wb3N0TWVzc2FnZSh7d2lkdGg6d2luZG93Lm91dGVyV2lkdGgsaGVpZ2h0OndpbmRvdy5vdXRlckhlaWdodH0pfXZhciB2ZXJzaW9uPXJlcXVpcmUoXCIuLi8uLi9leHQvbWFuaWZlc3QuanNvblwiKS52ZXJzaW9uLGhlbHBlcnM9cmVxdWlyZShcIi4vaGVscGVyc1wiKTtuYXZpZ2F0b3Iuc2VydmljZVdvcmtlciYmKG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLmNvbnRyb2xsZXI/c2VuZERpbWVuc2lvbnMoKTpuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihcInNlcnZpY2Utd29ya2VyLmpzXCIpKSxoZWxwZXJzLnJlbmRlckNhcmQoKSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLGZ1bmN0aW9uKCl7dmFyIGU9bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0aGVtZVwiKTtcImRhcmtcIj09PWUmJmRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnRvZ2dsZShcImRhcmtcIiksZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwicmVhZHlcIiksaGVscGVycy51cGRhdGVWZXJzaW9uKHZlcnNpb24pLGhlbHBlcnMuaGFuZGxlQWJvdXRDbGljaygpLGhlbHBlcnMuaGFuZGxlVGhlbWVDbGljayhmdW5jdGlvbihlKXt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0aGVtZVwiLGUpfSk7dmFyIHI9SlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVuc3BsYXNoXCIpKTtoZWxwZXJzLnNldFVuc3BsYXNoKHIsZnVuY3Rpb24oZSl7d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidW5zcGxhc2hcIixlKX0pfSk7IiwiZnVuY3Rpb24gYXBwZW5kSW1hZ2UoZSl7dmFyIGE9bmV3IEltYWdlO2Euc3JjPWUsaW1hZ2VzTG9hZGVkKGEpLm9uKFwiZG9uZVwiLGZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5iZ1wiKTthLnN0eWxlLnNldFByb3BlcnR5KFwiYmFja2dyb3VuZC1pbWFnZVwiLFwidXJsKFwiK2UrXCIpXCIpLGEuY2xhc3NMaXN0LnJlbW92ZShcImZhZGUtaW5cIil9KX12YXIgaW1hZ2VzTG9hZGVkPXJlcXVpcmUoXCJpbWFnZXNsb2FkZWRcIik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXthcHBlbmRJbWFnZShcImh0dHBzOi8vdW5zcGxhc2guaXQvXCIrd2luZG93Lm91dGVyV2lkdGgrXCIvXCIrd2luZG93Lm91dGVySGVpZ2h0K1wiLz9yYW5kb21cIil9OyIsIm1vZHVsZS5leHBvcnRzPXtcIm5hbWVcIjpcIk9ibGlxdWUgU3RyYXRlZ2llcyBUYWJcIixcInZlcnNpb25cIjpcIjIuNC4yXCIsXCJtYW5pZmVzdF92ZXJzaW9uXCI6MixcImRlc2NyaXB0aW9uXCI6XCJBIHRhYiByZXBsYWNlbWVudCBiYXNlZCBvbiBPYmxpcXVlIFN0cmF0ZWdpZXMgYnkgQnJpYW4gRW5vIGFuZCBQZXRlciBTY2htaWR0XCIsXCJob21lcGFnZV91cmxcIjpcImh0dHA6Ly9vYmxpcXVlc3RyYXRlZ2llcy53ZWJzaXRlXCIsXCJpY29uc1wiOntcIjE2XCI6XCJpY29ucy9pY29uMTYucG5nXCIsXCI0OFwiOlwiaWNvbnMvaWNvbjQ4LnBuZ1wiLFwiMTI4XCI6XCJpY29ucy9pY29uMTI4LnBuZ1wifSxcImNocm9tZV91cmxfb3ZlcnJpZGVzXCI6e1wibmV3dGFiXCI6XCJpbmRleC5odG1sXCJ9LFwicGVybWlzc2lvbnNcIjpbXCJzdG9yYWdlXCJdfSIsIiFmdW5jdGlvbihlKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKG4pe3ZhciB0PWUuZXZlbnQ7cmV0dXJuIHQudGFyZ2V0PXQudGFyZ2V0fHx0LnNyY0VsZW1lbnR8fG4sdH12YXIgdD1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsbz1mdW5jdGlvbigpe307dC5hZGRFdmVudExpc3RlbmVyP289ZnVuY3Rpb24oZSxuLHQpe2UuYWRkRXZlbnRMaXN0ZW5lcihuLHQsITEpfTp0LmF0dGFjaEV2ZW50JiYobz1mdW5jdGlvbihlLHQsbyl7ZVt0K29dPW8uaGFuZGxlRXZlbnQ/ZnVuY3Rpb24oKXt2YXIgdD1uKGUpO28uaGFuZGxlRXZlbnQuY2FsbChvLHQpfTpmdW5jdGlvbigpe3ZhciB0PW4oZSk7by5jYWxsKGUsdCl9LGUuYXR0YWNoRXZlbnQoXCJvblwiK3QsZVt0K29dKX0pO3ZhciBjPWZ1bmN0aW9uKCl7fTt0LnJlbW92ZUV2ZW50TGlzdGVuZXI/Yz1mdW5jdGlvbihlLG4sdCl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKG4sdCwhMSl9OnQuZGV0YWNoRXZlbnQmJihjPWZ1bmN0aW9uKGUsbix0KXtlLmRldGFjaEV2ZW50KFwib25cIituLGVbbit0XSk7dHJ5e2RlbGV0ZSBlW24rdF19Y2F0Y2gobyl7ZVtuK3RdPXZvaWQgMH19KTt2YXIgaT17YmluZDpvLHVuYmluZDpjfTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGkpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP21vZHVsZS5leHBvcnRzPWk6ZS5ldmVudGllPWl9KHdpbmRvdyk7IiwiIWZ1bmN0aW9uKGUsdCl7XCJ1c2Ugc3RyaWN0XCI7XCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kP2RlZmluZShbXCJldmVudEVtaXR0ZXIvRXZlbnRFbWl0dGVyXCIsXCJldmVudGllL2V2ZW50aWVcIl0sZnVuY3Rpb24oaSxuKXtyZXR1cm4gdChlLGksbil9KTpcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz10KGUscmVxdWlyZShcIndvbGZ5ODctZXZlbnRlbWl0dGVyXCIpLHJlcXVpcmUoXCJldmVudGllXCIpKTplLmltYWdlc0xvYWRlZD10KGUsZS5FdmVudEVtaXR0ZXIsZS5ldmVudGllKX0od2luZG93LGZ1bmN0aW9uKGUsdCxpKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBuKGUsdCl7Zm9yKHZhciBpIGluIHQpZVtpXT10W2ldO3JldHVybiBlfWZ1bmN0aW9uIG8oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09ZC5jYWxsKGUpfWZ1bmN0aW9uIHIoZSl7dmFyIHQ9W107aWYobyhlKSl0PWU7ZWxzZSBpZihcIm51bWJlclwiPT10eXBlb2YgZS5sZW5ndGgpZm9yKHZhciBpPTAsbj1lLmxlbmd0aDtuPmk7aSsrKXQucHVzaChlW2ldKTtlbHNlIHQucHVzaChlKTtyZXR1cm4gdH1mdW5jdGlvbiBzKGUsdCxpKXtpZighKHRoaXMgaW5zdGFuY2VvZiBzKSlyZXR1cm4gbmV3IHMoZSx0KTtcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlKSksdGhpcy5lbGVtZW50cz1yKGUpLHRoaXMub3B0aW9ucz1uKHt9LHRoaXMub3B0aW9ucyksXCJmdW5jdGlvblwiPT10eXBlb2YgdD9pPXQ6bih0aGlzLm9wdGlvbnMsdCksaSYmdGhpcy5vbihcImFsd2F5c1wiLGkpLHRoaXMuZ2V0SW1hZ2VzKCksYyYmKHRoaXMuanFEZWZlcnJlZD1uZXcgYy5EZWZlcnJlZCk7dmFyIG89dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7by5jaGVjaygpfSl9ZnVuY3Rpb24gaChlKXt0aGlzLmltZz1lfWZ1bmN0aW9uIGYoZSl7dGhpcy5zcmM9ZSxwW2VdPXRoaXN9dmFyIGM9ZS5qUXVlcnksYT1lLmNvbnNvbGUsdT1cInVuZGVmaW5lZFwiIT10eXBlb2YgYSxkPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7cy5wcm90b3R5cGU9bmV3IHQscy5wcm90b3R5cGUub3B0aW9ucz17fSxzLnByb3RvdHlwZS5nZXRJbWFnZXM9ZnVuY3Rpb24oKXt0aGlzLmltYWdlcz1bXTtmb3IodmFyIGU9MCx0PXRoaXMuZWxlbWVudHMubGVuZ3RoO3Q+ZTtlKyspe3ZhciBpPXRoaXMuZWxlbWVudHNbZV07XCJJTUdcIj09PWkubm9kZU5hbWUmJnRoaXMuYWRkSW1hZ2UoaSk7dmFyIG49aS5ub2RlVHlwZTtpZihuJiYoMT09PW58fDk9PT1ufHwxMT09PW4pKWZvcih2YXIgbz1pLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbWdcIikscj0wLHM9by5sZW5ndGg7cz5yO3IrKyl7dmFyIGg9b1tyXTt0aGlzLmFkZEltYWdlKGgpfX19LHMucHJvdG90eXBlLmFkZEltYWdlPWZ1bmN0aW9uKGUpe3ZhciB0PW5ldyBoKGUpO3RoaXMuaW1hZ2VzLnB1c2godCl9LHMucHJvdG90eXBlLmNoZWNrPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLG8pe3JldHVybiB0Lm9wdGlvbnMuZGVidWcmJnUmJmEubG9nKFwiY29uZmlybVwiLGUsbyksdC5wcm9ncmVzcyhlKSxpKyssaT09PW4mJnQuY29tcGxldGUoKSwhMH12YXIgdD10aGlzLGk9MCxuPXRoaXMuaW1hZ2VzLmxlbmd0aDtpZih0aGlzLmhhc0FueUJyb2tlbj0hMSwhbilyZXR1cm4gdm9pZCB0aGlzLmNvbXBsZXRlKCk7Zm9yKHZhciBvPTA7bj5vO28rKyl7dmFyIHI9dGhpcy5pbWFnZXNbb107ci5vbihcImNvbmZpcm1cIixlKSxyLmNoZWNrKCl9fSxzLnByb3RvdHlwZS5wcm9ncmVzcz1mdW5jdGlvbihlKXt0aGlzLmhhc0FueUJyb2tlbj10aGlzLmhhc0FueUJyb2tlbnx8IWUuaXNMb2FkZWQ7dmFyIHQ9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dC5lbWl0KFwicHJvZ3Jlc3NcIix0LGUpLHQuanFEZWZlcnJlZCYmdC5qcURlZmVycmVkLm5vdGlmeSYmdC5qcURlZmVycmVkLm5vdGlmeSh0LGUpfSl9LHMucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5oYXNBbnlCcm9rZW4/XCJmYWlsXCI6XCJkb25lXCI7dGhpcy5pc0NvbXBsZXRlPSEwO3ZhciB0PXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2lmKHQuZW1pdChlLHQpLHQuZW1pdChcImFsd2F5c1wiLHQpLHQuanFEZWZlcnJlZCl7dmFyIGk9dC5oYXNBbnlCcm9rZW4/XCJyZWplY3RcIjpcInJlc29sdmVcIjt0LmpxRGVmZXJyZWRbaV0odCl9fSl9LGMmJihjLmZuLmltYWdlc0xvYWRlZD1mdW5jdGlvbihlLHQpe3ZhciBpPW5ldyBzKHRoaXMsZSx0KTtyZXR1cm4gaS5qcURlZmVycmVkLnByb21pc2UoYyh0aGlzKSl9KSxoLnByb3RvdHlwZT1uZXcgdCxoLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe3ZhciBlPXBbdGhpcy5pbWcuc3JjXXx8bmV3IGYodGhpcy5pbWcuc3JjKTtpZihlLmlzQ29uZmlybWVkKXJldHVybiB2b2lkIHRoaXMuY29uZmlybShlLmlzTG9hZGVkLFwiY2FjaGVkIHdhcyBjb25maXJtZWRcIik7aWYodGhpcy5pbWcuY29tcGxldGUmJnZvaWQgMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aClyZXR1cm4gdm9pZCB0aGlzLmNvbmZpcm0oMCE9PXRoaXMuaW1nLm5hdHVyYWxXaWR0aCxcIm5hdHVyYWxXaWR0aFwiKTt2YXIgdD10aGlzO2Uub24oXCJjb25maXJtXCIsZnVuY3Rpb24oZSxpKXtyZXR1cm4gdC5jb25maXJtKGUuaXNMb2FkZWQsaSksITB9KSxlLmNoZWNrKCl9LGgucHJvdG90eXBlLmNvbmZpcm09ZnVuY3Rpb24oZSx0KXt0aGlzLmlzTG9hZGVkPWUsdGhpcy5lbWl0KFwiY29uZmlybVwiLHRoaXMsdCl9O3ZhciBwPXt9O3JldHVybiBmLnByb3RvdHlwZT1uZXcgdCxmLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbigpe2lmKCF0aGlzLmlzQ2hlY2tlZCl7dmFyIGU9bmV3IEltYWdlO2kuYmluZChlLFwibG9hZFwiLHRoaXMpLGkuYmluZChlLFwiZXJyb3JcIix0aGlzKSxlLnNyYz10aGlzLnNyYyx0aGlzLmlzQ2hlY2tlZD0hMH19LGYucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0PVwib25cIitlLnR5cGU7dGhpc1t0XSYmdGhpc1t0XShlKX0sZi5wcm90b3R5cGUub25sb2FkPWZ1bmN0aW9uKGUpe3RoaXMuY29uZmlybSghMCxcIm9ubG9hZFwiKSx0aGlzLnVuYmluZFByb3h5RXZlbnRzKGUpfSxmLnByb3RvdHlwZS5vbmVycm9yPWZ1bmN0aW9uKGUpe3RoaXMuY29uZmlybSghMSxcIm9uZXJyb3JcIiksdGhpcy51bmJpbmRQcm94eUV2ZW50cyhlKX0sZi5wcm90b3R5cGUuY29uZmlybT1mdW5jdGlvbihlLHQpe3RoaXMuaXNDb25maXJtZWQ9ITAsdGhpcy5pc0xvYWRlZD1lLHRoaXMuZW1pdChcImNvbmZpcm1cIix0aGlzLHQpfSxmLnByb3RvdHlwZS51bmJpbmRQcm94eUV2ZW50cz1mdW5jdGlvbihlKXtpLnVuYmluZChlLnRhcmdldCxcImxvYWRcIix0aGlzKSxpLnVuYmluZChlLnRhcmdldCxcImVycm9yXCIsdGhpcyl9LHN9KTsiLCJ2YXIgc3RyYXRlZ2llcz1bXCIoT3JnYW5pYykgbWFjaGluZXJ5XCIsXCJBIGxpbmUgaGFzIHR3byBzaWRlc1wiLFwiQSB2ZXJ5IHNtYWxsIG9iamVjdCAgICAgICAgIEl0cyBjZW50ZXJcIixcIkFiYW5kb24gZGVzaXJlXCIsXCJBYmFuZG9uIG5vcm1hbCBpbnN0cnVjdGlvbnNcIixcIkFiYW5kb24gbm9ybWFsIGluc3RydW1lbnRzXCIsXCJBY2NlcHQgYWR2aWNlXCIsXCJBY2NyZXRpb25cIixcIkFkZGluZyBvblwiLFwiQWxsb3cgYW4gZWFzZW1lbnQgKGFuIGVhc2VtZW50IGlzIHRoZSBhYmFuZG9ubWVudCBvZiBhIHN0cmljdHVyZSlcIixcIkFsd2F5cyBmaXJzdCBzdGVwc1wiLFwiQWx3YXlzIGdpdmUgeW91cnNlbGYgY3JlZGl0IGZvciBoYXZpbmcgbW9yZSB0aGFuIHBlcnNvbmFsaXR5IChnaXZlbiBieSBBcnRvIExpbmRzYXkpXCIsXCJBcmUgdGhlcmUgc2VjdGlvbnM/ICBDb25zaWRlciB0cmFuc2l0aW9uc1wiLFwiQXNrIHBlb3BsZSB0byB3b3JrIGFnYWluc3QgdGhlaXIgYmV0dGVyIGp1ZGdlbWVudFwiLFwiQXNrIHlvdXIgYm9keVwiLFwiQXNzZW1ibGUgc29tZSBvZiB0aGUgZWxlbWVudHMgaW4gYSBncm91cCBhbmQgdHJlYXQgdGhlIGdyb3VwXCIsXCJCYWxhbmNlIHRoZSBjb25zaXN0ZW5jeSBwcmluY2lwbGUgd2l0aCB0aGUgaW5jb25zaXN0ZW5jeSBwcmluY2lwbGVcIixcIkJlIGRpcnR5XCIsXCJCZSBleHRyYXZhZ2FudFwiLFwiQmUgbGVzcyBjcml0aWNhbFwiLFwiQnJlYXRoZSBtb3JlIGRlZXBseVwiLFwiQnJpZGdlc1xcbi0tYnVpbGRcXG4tLWJ1cm5cIixcIkNhc2NhZGVzXCIsXCJDaGFuZ2UgYW1iaWd1aXRpZXMgdG8gc3BlY2lmaWNzXCIsXCJDaGFuZ2UgaW5zdHJ1bWVudCByb2xlc1wiLFwiQ2hhbmdlIG5vdGhpbmcgYW5kIGNvbnRpbnVlIHdpdGggaW1tYWN1bGF0ZSBjb25zaXN0ZW5jeVwiLFwiQ2hhbmdlIHNwZWNpZmljcyB0byBhbWJpZ3VpdGllc1wiLFwiQ2hpbGRyZW5cXG4tLXNwZWFraW5nXFxuLS1zaW5naW5nXCIsXCJDbHVzdGVyIGFuYWx5c2lzXCIsXCJDb25zaWRlciBkaWZmZXJlbnQgZmFkaW5nIHN5c3RlbXNcIixcIkNvbnNpZGVyIHRyYW5zaXRpb25zXCIsXCJDb25zdWx0IG90aGVyIHNvdXJjZXNcXG4tLXByb21pc2luZ1xcbi0tdW5wcm9taXNpbmdcIixcIkNvbnZlcnQgYSBtZWxvZGljIGVsZW1lbnQgaW50byBhIHJoeXRobWljIGVsZW1lbnRcIixcIkNvdXJhZ2UhXCIsXCJDdXQgYSB2aXRhbCBjb25uZWN0aW9uXCIsXCJEZWNvcmF0ZSwgZGVjb3JhdGVcIixcIkRlZmluZSBhbiBhcmVhIGFzIGBzYWZlJyBhbmQgdXNlIGl0IGFzIGFuIGFuY2hvclwiLFwiRGVzdHJveVxcbi1ub3RoaW5nXFxuLXRoZSBtb3N0IGltcG9ydGFudCB0aGluZ1wiLFwiRGlzY2FyZCBhbiBheGlvbVwiLFwiRGlzY2lwbGluZWQgc2VsZi1pbmR1bGdlbmNlXCIsXCJEaXNjb25uZWN0IGZyb20gZGVzaXJlXCIsXCJEaXNjb3ZlciB0aGUgcmVjaXBlcyB5b3UgYXJlIHVzaW5nIGFuZCBhYmFuZG9uIHRoZW1cIixcIkRpc3BsYXkgeW91ciB0YWxlbnRcIixcIkRpc3RvcnQgdGltZVwiLFwiRG8gbm90aGluZyBmb3IgYXMgbG9uZyBhcyBwb3NzaWJsZVwiLFwiRG8gc29tZXRoaW5nIGJvcmluZ1wiLFwiRG8gdGhlIGxhc3QgdGhpbmcgZmlyc3RcIixcIkRvIHRoZSB3YXNoaW5nIHVwXCIsXCJEbyB0aGUgd29yZHMgbmVlZCBjaGFuZ2luZz9cIixcIkRvIHdlIG5lZWQgaG9sZXM/XCIsXCJEb24ndCBhdm9pZCB3aGF0IGlzIGVhc3lcIixcIkRvbid0IGJlIGZyaWdodGVuZWQgb2YgY2xpY2hlc1wiLFwiRG9uJ3QgYnJlYWsgdGhlIHNpbGVuY2VcIixcIkRvbid0IHN0cmVzcyBvbmUgdGhpbmcgbW9yZSB0aGFuIGFub3RoZXJcIixcIkRvbnQgYmUgYWZyYWlkIG9mIHRoaW5ncyBiZWNhdXNlIHRoZXkncmUgZWFzeSB0byBkb1wiLFwiRG9udCBiZSBmcmlnaHRlbmVkIHRvIGRpc3BsYXkgeW91ciB0YWxlbnRzXCIsXCJFbXBoYXNpemUgZGlmZmVyZW5jZXNcIixcIkVtcGhhc2l6ZSByZXBldGl0aW9uc1wiLFwiRW1waGFzaXplIHRoZSBmbGF3c1wiLFwiRmFjZWQgd2l0aCBhIGNob2ljZSwgZG8gYm90aCAoZ2l2ZW4gYnkgRGlldGVyIFJvdClcIixcIkZlZWQgdGhlIHJlY29yZGluZyBiYWNrIG91dCBvZiB0aGUgbWVkaXVtXCIsXCJGaWxsIGV2ZXJ5IGJlYXQgd2l0aCBzb21ldGhpbmdcIixcIkZpbmQgYSBzYWZlIHBhcnQgYW5kIHVzZSBpdCBhcyBhbiBhbmNob3JcIixcIkdldCB5b3VyIG5lY2sgbWFzc2FnZWRcIixcIkdob3N0IGVjaG9lc1wiLFwiR2l2ZSB0aGUgZ2FtZSBhd2F5XCIsXCJHaXZlIHdheSB0byB5b3VyIHdvcnN0IGltcHVsc2VcIixcIkdvIG91dHNpZGUuIFNodXQgdGhlIGRvb3IuXCIsXCJHbyBzbG93bHkgYWxsIHRoZSB3YXkgcm91bmQgdGhlIG91dHNpZGVcIixcIkdvIHRvIGFuIGV4dHJlbWUsIGNvbWUgcGFydCB3YXkgYmFja1wiLFwiSG9ub3IgdGh5IG1pc3Rha2UgYXMgYSBoaWRkZW4gaW50ZW50aW9uXCIsXCJIb3cgd291bGQgc29tZW9uZSBlbHNlIGRvIGl0P1wiLFwiSG93IHdvdWxkIHlvdSBoYXZlIGRvbmUgaXQ/XCIsXCJIdW1hbml6ZSBzb21ldGhpbmcgZnJlZSBvZiBlcnJvclwiLFwiSWRpb3QgZ2xlZSAoPylcIixcIkltYWdpbmUgdGhlIHBpZWNlIGFzIGEgc2V0IG9mIGRpc2Nvbm5lY3RlZCBldmVudHNcIixcIkluIHRvdGFsIGRhcmtuZXNzLCBvciBpbiBhIHZlcnkgbGFyZ2Ugcm9vbSwgdmVyeSBxdWlldGx5XCIsXCJJbmZpbml0ZXNpbWFsIGdyYWRhdGlvbnNcIixcIkludGVudGlvbnNcXG4tLW5vYmlsaXR5IG9mXFxuLS1odW1pbGl0eSBvZlxcbi0tY3JlZGliaWxpdHkgb2ZcIixcIkludG8gdGhlIGltcG9zc2libGVcIixcIklzIGl0IGZpbmlzaGVkP1wiLFwiSXMgc29tZXRoaW5nIG1pc3Npbmc/XCIsXCJJcyB0aGUgaW5mb3JtYXRpb24gY29ycmVjdD9cIixcIklzIHRoZSBzdHlsZSByaWdodD9cIixcIklzIHRoZXJlIHNvbWV0aGluZyBtaXNzaW5nXCIsXCJJdCBpcyBxdWl0ZSBwb3NzaWJsZSAoYWZ0ZXIgYWxsKVwiLFwiSXQgaXMgc2ltcGx5IGEgbWF0dGVyIG9mIHdvcmtcIixcIkp1c3QgY2Fycnkgb25cIixcIkxlZnQgY2hhbm5lbCwgcmlnaHQgY2hhbm5lbCwgY2VudGVyIGNoYW5uZWxcIixcIkxpc3RlbiB0byB0aGUgcXVpZXQgdm9pY2VcIixcIkxvb2sgYXQgdGhlIG9yZGVyIGluIHdoaWNoIHlvdSBkbyB0aGluZ3NcIixcIkxvb2sgY2xvc2VseSBhdCB0aGUgbW9zdCBlbWJhcnJhc3NpbmcgZGV0YWlscyAmIGFtcGxpZnkgdGhlbVwiLFwiTG9zdCBpbiB1c2VsZXNzIHRlcnJpdG9yeVwiLFwiTG93ZXN0IGNvbW1vbiBkZW5vbWluYXRvclwiLFwiTWFnbmlmeSB0aGUgbW9zdCBkaWZmaWN1bHQgZGV0YWlsc1wiLFwiTWFrZSBhIGJsYW5rIHZhbHVhYmxlIGJ5IHB1dHRpbmcgaXQgaW4gYW4gZXhxdWlzaXRlIGZyYW1lXCIsXCJNYWtlIGEgc3VkZGVuLCBkZXN0cnVjdGl2ZSB1bnByZWRpY3RhYmxlIGFjdGlvbjsgaW5jb3Jwb3JhdGVcIixcIk1ha2UgYW4gZXhoYXVzdGl2ZSBsaXN0IG9mIGV2ZXJ5dGhpbmcgeW91IG1pZ2h0IGRvICYgZG8gdGhlIGxhc3QgdGhpbmcgb24gdGhlIGxpc3RcIixcIk1ha2UgaXQgbW9yZSBzZW5zdWFsXCIsXCJNYWtlIHdoYXQncyBwZXJmZWN0IG1vcmUgaHVtYW5cIixcIk1lY2hhbmljYWxpemUgc29tZXRoaW5nIGlkaW9zeW5jcmF0aWNcIixcIk1vdmUgdG93YXJkcyB0aGUgdW5pbXBvcnRhbnRcIixcIk11dGUgYW5kIGNvbnRpbnVlXCIsXCJOb3QgYnVpbGRpbmcgYSB3YWxsIGJ1dCBtYWtpbmcgYSBicmlja1wiLFwiT25jZSB0aGUgc2VhcmNoIGhhcyBiZWd1biwgc29tZXRoaW5nIHdpbGwgYmUgZm91bmRcIixcIk9ubHkgYSBwYXJ0LCBub3QgdGhlIHdob2xlXCIsXCJPbmx5IG9uZSBlbGVtZW50IG9mIGVhY2gga2luZFwiLFwiT3ZlcnRseSByZXNpc3QgY2hhbmdlXCIsXCJQYWUgV2hpdGUncyBub24tYmxhbmsgZ3JhcGhpYyBtZXRhY2FyZFwiLFwiUHV0IGluIGVhcnBsdWdzXCIsXCJRdWVzdGlvbiB0aGUgaGVyb2ljXCIsXCJSZWV2YWx1YXRpb24gKGEgd2FybSBmZWVsaW5nKVwiLFwiUmVtZW1iZXIgdGhvc2UgcXVpZXQgZXZlbmluZ3NcIixcIlJlbW92ZSBhIHJlc3RyaWN0aW9uXCIsXCJSZW1vdmUgYW1iaWd1aXRpZXMgYW5kIGNvbnZlcnQgdG8gc3BlY2lmaWNzXCIsXCJSZW1vdmUgc3BlY2lmaWNzIGFuZCBjb252ZXJ0IHRvIGFtYmlndWl0aWVzXCIsXCJSZXBldGl0aW9uIGlzIGEgZm9ybSBvZiBjaGFuZ2VcIixcIlJldHJhY2UgeW91ciBzdGVwc1wiLFwiUmV2ZXJzZVwiLFwiU2hvcnQgY2lyY3VpdCAoZXhhbXBsZTsgYSBtYW4gZWF0aW5nIHBlYXMgd2l0aCB0aGUgaWRlYSB0aGF0IHRoZXkgd2lsbCBpbXByb3ZlICBoaXMgdmlyaWxpdHkgc2hvdmVscyB0aGVtIHN0cmFpZ2h0IGludG8gaGlzIGxhcClcIixcIlNpbXBsZSBzdWJ0cmFjdGlvblwiLFwiU2ltcGx5IGEgbWF0dGVyIG9mIHdvcmtcIixcIlNsb3cgcHJlcGFyYXRpb24sIGZhc3QgZXhlY3V0aW9uXCIsXCJTcGVjdHJ1bSBhbmFseXNpc1wiLFwiU3RhdGUgdGhlIHByb2JsZW0gYXMgY2xlYXJseSBhcyBwb3NzaWJsZVwiLFwiVGFrZSBhIGJyZWFrXCIsXCJUYWtlIGF3YXkgdGhlIGVsZW1lbnRzIGluIG9yZGVyIG9mIGFwcGFyZW50IG5vbi1pbXBvcnRhbmNlXCIsXCJUYWtlIGF3YXkgdGhlIGltcG9ydGFudCBwYXJ0c1wiLFwiVGFwZSB5b3VyIG1vdXRoIChnaXZlbiBieSBSaXR2YSBTYWFyaWtrbylcIixcIlRoZSBpbmNvbnNpc3RlbmN5IHByaW5jaXBsZVwiLFwiVGhlIG1vc3QgaW1wb3J0YW50IHRoaW5nIGlzIHRoZSB0aGluZyBtb3N0IGVhc2lseSBmb3Jnb3R0ZW5cIixcIlRoZSB0YXBlIGlzIG5vdyB0aGUgbXVzaWNcIixcIlRoaW5rXFxuLS1pbnNpZGUgdGhlIHdvcmtcXG4tLW91dHNpZGUgdGhlIHdvcmtcIixcIlRoaW5rIG9mIHRoZSByYWRpb1wiLFwiVGlkeSB1cFwiLFwiVG93YXJkcyB0aGUgaW5zaWduaWZpY2FudFwiLFwiVHJ1c3QgaW4gdGhlIHlvdSBvZiBub3dcIixcIlRyeSBmYWtpbmcgaXQgKGZyb20gU3Rld2FydCBCcmFuZClcIixcIlR1cm4gaXQgdXBzaWRlIGRvd25cIixcIlR3aXN0IHRoZSBzcGluZVwiLFwiVXNlICd1bnF1YWxpZmllZCcgcGVvcGxlXCIsXCJVc2UgYW4gb2xkIGlkZWFcIixcIlVzZSBhbiB1bmFjY2VwdGFibGUgY29sb3JcIixcIlVzZSBjbGljaGVzXCIsXCJVc2UgZmV3ZXIgbm90ZXNcIixcIlVzZSBmaWx0ZXJzXCIsXCJVc2Ugc29tZXRoaW5nIG5lYXJieSBhcyBhIG1vZGVsXCIsXCJVc2UgeW91ciBvd24gaWRlYXNcIixcIlZvaWNlIHlvdXIgc3VzcGljaW9uc1wiLFwiV2F0ZXJcIixcIldoYXQgYXJlIHRoZSBzZWN0aW9ucyBzZWN0aW9ucyBvZj8gICAgSW1hZ2luZSBhIGNhdGVycGlsbGFyIG1vdmluZ1wiLFwiV2hhdCBhcmUgeW91IHJlYWxseSB0aGlua2luZyBhYm91dCBqdXN0IG5vdz9cIixcIldoYXQgY29udGV4dCB3b3VsZCBsb29rIHJpZ2h0P1wiLFwiV2hhdCBpcyB0aGUgcmVhbGl0eSBvZiB0aGUgc2l0dWF0aW9uP1wiLFwiV2hhdCBpcyB0aGUgc2ltcGxlc3Qgc29sdXRpb24/XCIsXCJXaGF0IG1pc3Rha2VzIGRpZCB5b3UgbWFrZSBsYXN0IHRpbWU/XCIsXCJXaGF0IHRvIGluY3JlYXNlPyBXaGF0IHRvIHJlZHVjZT8gV2hhdCB0byBtYWludGFpbj9cIixcIldoYXQgd291bGQgeW91ciBjbG9zZXN0IGZyaWVuZCBkbz9cIixcIldoYXQgd291bGRuJ3QgeW91IGRvP1wiLFwiV2hlbiBpcyBpdCBmb3I/XCIsXCJXaGVyZSBpcyB0aGUgZWRnZT9cIixcIldoaWNoIHBhcnRzIGNhbiBiZSBncm91cGVkP1wiLFwiV29yayBhdCBhIGRpZmZlcmVudCBzcGVlZFwiLFwiV291bGQgYW55b25lIHdhbnQgaXQ/XCIsXCJZb3UgYXJlIGFuIGVuZ2luZWVyXCIsXCJZb3UgY2FuIG9ubHkgbWFrZSBvbmUgZG90IGF0IGEgdGltZVwiLFwiWW91IGRvbid0IGhhdmUgdG8gYmUgYXNoYW1lZCBvZiB1c2luZyB5b3VyIG93biBpZGVhc1wiLFwiW2JsYW5rIHdoaXRlIGNhcmRdXCJdO2V4cG9ydHMuc3RyYXRlZ2llcz1zdHJhdGVnaWVzLGV4cG9ydHMuZHJhdz1mdW5jdGlvbigpe3ZhciBlPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooc3RyYXRlZ2llcy5sZW5ndGgrMSkpO3JldHVybiBzdHJhdGVnaWVzW2VdfTsiLCIoZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBlKCl7fWZ1bmN0aW9uIHQoZSx0KXtmb3IodmFyIG49ZS5sZW5ndGg7bi0tOylpZihlW25dLmxpc3RlbmVyPT09dClyZXR1cm4gbjtyZXR1cm4tMX1mdW5jdGlvbiBuKGUpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0aGlzW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19dmFyIHI9ZS5wcm90b3R5cGUsaT10aGlzLHM9aS5FdmVudEVtaXR0ZXI7ci5nZXRMaXN0ZW5lcnM9ZnVuY3Rpb24oZSl7dmFyIHQsbixyPXRoaXMuX2dldEV2ZW50cygpO2lmKGUgaW5zdGFuY2VvZiBSZWdFeHApe3Q9e307Zm9yKG4gaW4gcilyLmhhc093blByb3BlcnR5KG4pJiZlLnRlc3QobikmJih0W25dPXJbbl0pfWVsc2UgdD1yW2VdfHwocltlXT1bXSk7cmV0dXJuIHR9LHIuZmxhdHRlbkxpc3RlbmVycz1mdW5jdGlvbihlKXt2YXIgdCxuPVtdO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kz0xKW4ucHVzaChlW3RdLmxpc3RlbmVyKTtyZXR1cm4gbn0sci5nZXRMaXN0ZW5lcnNBc09iamVjdD1mdW5jdGlvbihlKXt2YXIgdCxuPXRoaXMuZ2V0TGlzdGVuZXJzKGUpO3JldHVybiBuIGluc3RhbmNlb2YgQXJyYXkmJih0PXt9LHRbZV09biksdHx8bn0sci5hZGRMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe3ZhciByLGk9dGhpcy5nZXRMaXN0ZW5lcnNBc09iamVjdChlKSxzPVwib2JqZWN0XCI9PXR5cGVvZiBuO2ZvcihyIGluIGkpaS5oYXNPd25Qcm9wZXJ0eShyKSYmLTE9PT10KGlbcl0sbikmJmlbcl0ucHVzaChzP246e2xpc3RlbmVyOm4sb25jZTohMX0pO3JldHVybiB0aGlzfSxyLm9uPW4oXCJhZGRMaXN0ZW5lclwiKSxyLmFkZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLmFkZExpc3RlbmVyKGUse2xpc3RlbmVyOnQsb25jZTohMH0pfSxyLm9uY2U9bihcImFkZE9uY2VMaXN0ZW5lclwiKSxyLmRlZmluZUV2ZW50PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLmdldExpc3RlbmVycyhlKSx0aGlzfSxyLmRlZmluZUV2ZW50cz1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MDt0PGUubGVuZ3RoO3QrPTEpdGhpcy5kZWZpbmVFdmVudChlW3RdKTtyZXR1cm4gdGhpc30sci5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe3ZhciByLGkscz10aGlzLmdldExpc3RlbmVyc0FzT2JqZWN0KGUpO2ZvcihpIGluIHMpcy5oYXNPd25Qcm9wZXJ0eShpKSYmKHI9dChzW2ldLG4pLC0xIT09ciYmc1tpXS5zcGxpY2UociwxKSk7cmV0dXJuIHRoaXN9LHIub2ZmPW4oXCJyZW1vdmVMaXN0ZW5lclwiKSxyLmFkZExpc3RlbmVycz1mdW5jdGlvbihlLHQpe3JldHVybiB0aGlzLm1hbmlwdWxhdGVMaXN0ZW5lcnMoITEsZSx0KX0sci5yZW1vdmVMaXN0ZW5lcnM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdGhpcy5tYW5pcHVsYXRlTGlzdGVuZXJzKCEwLGUsdCl9LHIubWFuaXB1bGF0ZUxpc3RlbmVycz1mdW5jdGlvbihlLHQsbil7dmFyIHIsaSxzPWU/dGhpcy5yZW1vdmVMaXN0ZW5lcjp0aGlzLmFkZExpc3RlbmVyLG89ZT90aGlzLnJlbW92ZUxpc3RlbmVyczp0aGlzLmFkZExpc3RlbmVycztpZihcIm9iamVjdFwiIT10eXBlb2YgdHx8dCBpbnN0YW5jZW9mIFJlZ0V4cClmb3Iocj1uLmxlbmd0aDtyLS07KXMuY2FsbCh0aGlzLHQsbltyXSk7ZWxzZSBmb3IociBpbiB0KXQuaGFzT3duUHJvcGVydHkocikmJihpPXRbcl0pJiYoXCJmdW5jdGlvblwiPT10eXBlb2YgaT9zLmNhbGwodGhpcyxyLGkpOm8uY2FsbCh0aGlzLHIsaSkpO3JldHVybiB0aGlzfSxyLnJlbW92ZUV2ZW50PWZ1bmN0aW9uKGUpe3ZhciB0LG49dHlwZW9mIGUscj10aGlzLl9nZXRFdmVudHMoKTtpZihcInN0cmluZ1wiPT09bilkZWxldGUgcltlXTtlbHNlIGlmKGUgaW5zdGFuY2VvZiBSZWdFeHApZm9yKHQgaW4gcilyLmhhc093blByb3BlcnR5KHQpJiZlLnRlc3QodCkmJmRlbGV0ZSByW3RdO2Vsc2UgZGVsZXRlIHRoaXMuX2V2ZW50cztyZXR1cm4gdGhpc30sci5yZW1vdmVBbGxMaXN0ZW5lcnM9bihcInJlbW92ZUV2ZW50XCIpLHIuZW1pdEV2ZW50PWZ1bmN0aW9uKGUsdCl7dmFyIG4scixpLHMsbyx1PXRoaXMuZ2V0TGlzdGVuZXJzQXNPYmplY3QoZSk7Zm9yKHMgaW4gdSlpZih1Lmhhc093blByb3BlcnR5KHMpKWZvcihuPXVbc10uc2xpY2UoMCksaT1uLmxlbmd0aDtpLS07KXI9bltpXSxyLm9uY2U9PT0hMCYmdGhpcy5yZW1vdmVMaXN0ZW5lcihlLHIubGlzdGVuZXIpLG89ci5saXN0ZW5lci5hcHBseSh0aGlzLHR8fFtdKSxvPT09dGhpcy5fZ2V0T25jZVJldHVyblZhbHVlKCkmJnRoaXMucmVtb3ZlTGlzdGVuZXIoZSxyLmxpc3RlbmVyKTtyZXR1cm4gdGhpc30sci50cmlnZ2VyPW4oXCJlbWl0RXZlbnRcIiksci5lbWl0PWZ1bmN0aW9uKGUpe3ZhciB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gdGhpcy5lbWl0RXZlbnQoZSx0KX0sci5zZXRPbmNlUmV0dXJuVmFsdWU9ZnVuY3Rpb24oZSl7cmV0dXJuIHRoaXMuX29uY2VSZXR1cm5WYWx1ZT1lLHRoaXN9LHIuX2dldE9uY2VSZXR1cm5WYWx1ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmhhc093blByb3BlcnR5KFwiX29uY2VSZXR1cm5WYWx1ZVwiKT90aGlzLl9vbmNlUmV0dXJuVmFsdWU6ITB9LHIuX2dldEV2ZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9ldmVudHN8fCh0aGlzLl9ldmVudHM9e30pfSxlLm5vQ29uZmxpY3Q9ZnVuY3Rpb24oKXtyZXR1cm4gaS5FdmVudEVtaXR0ZXI9cyxlfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKGZ1bmN0aW9uKCl7cmV0dXJuIGV9KTpcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlJiZtb2R1bGUuZXhwb3J0cz9tb2R1bGUuZXhwb3J0cz1lOmkuRXZlbnRFbWl0dGVyPWV9KS5jYWxsKHRoaXMpOyJdfQ==
</script>
</body>
</html>
